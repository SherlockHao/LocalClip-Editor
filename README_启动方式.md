# LocalClip Editor - 启动方式说明

## 🚀 快速启动（推荐）

### 方式一：静默启动（无黑窗口）⭐

**适合日常使用**

1. 双击 `start.vbs`
2. 等待启动提示框消失
3. 浏览器自动打开到 http://localhost:5173

**特点：**
- ✅ 无黑色命令行窗口
- ✅ 自动检测服务状态
- ✅ 自动打开浏览器
- ✅ 友好的启动提示

---

### 方式二：标准启动（显示日志）

**适合调试和开发**

1. 双击 `start.bat`
2. 查看启动日志
3. 等待浏览器自动打开

**特点：**
- ✅ 显示详细启动过程
- ✅ 可以查看实时日志
- ✅ 自动打开浏览器
- ✅ 便于排查问题

---

## 📌 创建桌面快捷方式

1. 双击运行 `创建桌面快捷方式.vbs`
2. 桌面上将出现 "LocalClip Editor" 图标
3. 以后直接双击桌面图标即可启动

---

## ⏱️ 启动时间

| 场景 | 预计时间 | 说明 |
|------|---------|------|
| 首次启动 | 30-60秒 | 需要安装前端依赖（npm install） |
| 后续启动 | 10-15秒 | 依赖已安装，直接启动服务 |

---

## 🌐 访问地址

| 服务 | 地址 | 说明 |
|------|------|------|
| 前端界面 | http://localhost:5173 | 主界面 |
| 后端API | http://localhost:8000 | API服务 |
| API文档 | http://localhost:8000/docs | Swagger文档 |

---

## 🛑 停止服务

### 方法一：关闭命令行窗口
找到以下窗口并关闭：
- `LocalClip-Backend`（后端服务）
- `LocalClip-Frontend`（前端服务）

### 方法二：使用任务管理器
1. 打开任务管理器（Ctrl+Shift+Esc）
2. 找到并结束以下进程：
   - `python.exe`（后端）
   - `node.exe`（前端）

---

## 🔧 技术细节

### start.vbs 工作流程

```
1. 隐藏窗口执行 start.bat
2. 显示"正在启动"提示框
3. 等待 15 秒（基础启动时间）
4. 循环检测服务就绪（最多60秒）
   - 每秒发送 HTTP 请求到 localhost:5173
   - 收到 200 响应则认为服务就绪
5. 自动打开浏览器
6. 显示"启动完成"提示框
```

### start.bat 增强功能

```
1. 清理占用的端口（8000, 5173）
2. 启动后端服务（FastAPI）
3. 检查并安装前端依赖
4. 启动前端服务（Vite）
5. 循环检测前端服务就绪
   - 使用 PowerShell 发送 HTTP 请求
   - 最多等待 60 秒
6. 自动打开浏览器
```

---

## ❓ 常见问题

### Q: 双击 start.vbs 后无反应？

**检查项：**
1. 是否已安装 Node.js？（`node --version`）
2. 是否已配置 Conda 环境 'ui'？（`conda env list`）
3. 尝试以管理员身份运行

### Q: 浏览器打开后显示"无法连接"？

**解决方案：**
- 服务可能仍在启动中，等待 1-2 分钟后刷新
- 检查命令行窗口是否有错误信息
- 手动访问 http://localhost:5173 查看状态

### Q: 提示端口被占用？

**解决方案：**
- start.bat 会自动清理端口
- 如果仍有问题，手动结束占用进程：
  ```batch
  # 查看端口占用
  netstat -ano | findstr :8000
  netstat -ano | findstr :5173

  # 结束进程（替换 PID）
  taskkill /F /PID <进程ID>
  ```

### Q: 首次启动时间很长？

**说明：**
- 正常现象，首次需要运行 `npm install` 安装依赖
- 取决于网络速度，可能需要 5-10 分钟
- 后续启动会很快（10-15秒）

---

## 📋 系统要求

### 必需
- Windows 10 或更高版本
- Node.js 16+ ([下载](https://nodejs.org/))
- Anaconda/Miniconda（包含 'ui' 环境）
- Python 3.10+

### 推荐
- 8GB+ 内存
- SSD 硬盘
- 稳定的网络连接

---

## 🆚 启动方式对比

| 特性 | start.vbs | start.bat |
|------|-----------|-----------|
| 启动速度 | 较慢（15秒+检测） | 较快 |
| 窗口显示 | 无黑窗口 | 显示日志窗口 |
| 自动打开浏览器 | ✅ | ✅ |
| 服务状态检测 | ✅（HTTP检测） | ✅（HTTP检测） |
| 启动提示 | 友好的消息框 | 命令行输出 |
| 适用场景 | 日常使用 | 开发调试 |

---

## 📝 文件说明

| 文件 | 说明 |
|------|------|
| `start.vbs` | 静默启动脚本（推荐） |
| `start.bat` | 标准启动脚本（显示日志） |
| `创建桌面快捷方式.vbs` | 生成桌面快捷方式 |
| `启动说明.txt` | 简洁的文本说明 |
| `README_启动方式.md` | 详细的Markdown说明（本文件） |

---

## 🎯 最佳实践

1. **日常使用**：双击 `start.vbs`，享受无干扰启动
2. **首次安装**：使用 `start.bat` 查看安装进度
3. **遇到问题**：使用 `start.bat` 查看详细日志
4. **便捷访问**：运行"创建桌面快捷方式.vbs"

---

## 🔄 更新日志

### v1.1 - 2026-01-02
- ✨ 新增 VBS 静默启动脚本
- ✨ start.bat 增加自动打开浏览器功能
- ✨ 增加服务就绪状态检测
- ✨ 新增桌面快捷方式创建工具
- 📝 完善启动说明文档

### v1.0
- 🎉 初始版本
- ✅ 基础的 start.bat 启动脚本
